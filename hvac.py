from time import sleep
import requests

HEADERS = {
	'Content-Type': 'application/json'
}
BASE_URL = 'http://192.168.0.51:30031'
API_URL = f'{BASE_URL}/api/hvac'


def get_temperature():
	url = f'{API_URL}/get'
	r = requests.get(url)
	if not r.status_code == 200:
		exit()
	print(f'get_temperature response: {r.text}\n')


def set_left_temperature(to):
	url = f'{API_URL}/set'
	payload = f'{{ "LeftTemperature": {to} }}'
	r = requests.post(url, data=payload, headers=HEADERS)
	if not r.status_code == 200:
		exit()
	print(f'set_left_temperature to {to} response: {r.text}\n')


get_temperature()
sleep(2)

set_left_temperature(22)
get_temperature()
sleep(2)

set_left_temperature(25)
get_temperature()
sleep(2)

set_left_temperature(18)
get_temperature()